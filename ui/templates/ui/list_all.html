<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List All Todos</title>
    <!-- Include Bulma CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
</head>
<body>

<section class="section">
    <div class="container">
        <h1 class="title">Todo List</h1>

        <!-- "Create Todo" button -->
        <a href="{% url 'create_todo' %}" class="button is-primary">Create Todo</a>

        <br>
        <br>

        <!-- Iterate through todos and display each one -->
        {% for todo in todos %}
            <div class="box">
                <article class="media">
                    <div class="media-content">
                        <div class="content">
                            <p>
                                <strong><a href="{% url 'edit_todo' todo.id %}">{{ todo.title }}</a></strong>
                                <br>
                                {{ todo.description }}
                                <br>
                                <small>Created on {{ todo.created }}</small>
                            </p>
                        </div>
                    </div>
                    <div class="media-right">
                        <!-- "Delete Todo" button -->
                        <form method="post" action="{% url 'delete_todo' todo.id %}">
                            {% csrf_token %}
                            <button type="submit" class="button is-danger">Delete</button>
                        </form>
                    </div>
                </article>
            </div>
        {% endfor %}

    </div>
</section>

</body>
</html>
